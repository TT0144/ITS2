--ここはrootでやること
----DBの作成
CREATE DATABASE its;
-- USERの作成
CREATE USER 'geocation'@'localhost';
--dbuserにCREATE権限を付与
GRANT ALL PRIVILEGES ON its.* TO 'geocation'@'localhost';
FLUSH PRIVILEGES;
-------------------------------------


CREATE TABLE USERS (
    USER_ID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    NAME VARCHAR(30) NOT NULL,
    ADDRESS VARCHAR(254) NOT NULL,
    PASSWORD VARCHAR(64) NOT NULL,
    ICON_PATH VARCHAR(255) DEFAULT 'user_icon.jpg',
    CREATED_AT DATETIME NOT NULL,
    UPDATED_AT DATETIME NOT NULL
);

CREATE TABLE DIARYS_POSTING (
    DIARY_ID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    USER_ID INT UNSIGNED,
    SPOT_ID INT UNSIGNED,
    TITLE VARCHAR(64) NOT NULL,
    PHOTO VARCHAR(255) DEFAULT 'noimage.png',
    TEXT TEXT,
    STERGOOD DOUBLE DEFAULT 0,
    GOOD INT DEFAULT 0,
    CREATED_AT DATETIME NOT NULL,
    UPDATED_AT DATETIME NOT NULL,
    FOREIGN KEY (USER_ID) REFERENCES USERS(USER_ID)
);

CREATE TABLE SPOTS_POSTING (
    SPOT_ID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    USER_ID INT UNSIGNED,
    SPOTNAME VARCHAR(64) NOT NULL,
    ADDRESS VARCHAR(161) NOT NULL,
    COST VARCHAR(10),
    REMARKS VARCHAR(255),
    PHOTO VARCHAR(255) DEFAULT 'noimage.png',
    CREATED_AT DATETIME NOT NULL,
    UPDATED_AT DATETIME NOT NULL,
    FOREIGN KEY (USER_ID) REFERENCES USERS(USER_ID)
);


CREATE TABLE LIKES (
    LIKE_ID INT UNSIGNED AUTO_INCREMENT PRIMARY KEY,
    USER_ID INT UNSIGNED,
    DIARY_ID INT UNSIGNED,
    CREATED_AT DATETIME NOT NULL,
    FOREIGN KEY (USER_ID) REFERENCES USERS(USER_ID),
    FOREIGN KEY (DIARY_ID) REFERENCES DIARYS_POSTING(DIARY_ID)
);
-- homepageのスポットごとに表示させることに使うviewテーブル
CREATE VIEW SPOT_SAMPLE 
AS SELECT SPOT_ID, USER_ID, SPOTNAME, ADDRESS, PHOTO, COST, REMARKS, CREATED_AT
    FROM SPOTS_POSTING
    ORDER BY CREATED_AT DESC
    LIMIT 8;

CREATE VIEW DIARY_SAMPLE
AS SELECT DIARY_ID, USER_ID, SPOT_ID, TITLE, PHOTO, TEXT, STERGOOD, GOOD, CREATED_AT
    FROM DIARYS_POSTING 
    ORDER BY GOOD DESC
    LIMIT 8;

DROP TABLE SPOTS_POSTING;
DROP TABLE LIKES;
DROP TABLE DIARYS_POSTING;
DROP TABLE USERS;

INSERT INTO USERS (USER_ID, NAME, ADDRESS, PASSWORD, ICON_PATH, CREATED_AT, UPDATED_AT) VALUES
(1, 'junkratOTP', 'ajjfja@jiajefai', '688787d8ff144c502c7f5cffaafe2cc588d86079f9de88304c26b0cb99ce91c6','user_icon.jpg', '2024-07-19 06:35:07', '2024-07-19 06:35:07'),
(2, '空条承太郎', 'gati@efjaipie', '2f7875656a69466cfdff4d57082ce7bbb1ef49284e5b5d26de2d0e0662e0ba31','burion.jpg', '2024-07-21 07:48:28', '2024-07-21 07:48:28'),
(3, '山本', '212@1212', '25c3a42aa9a558d93211d0d44f260352f463e234ac2d80c4bf8c8b0982cf2dcf','user_icon.jpg', '2024-07-22 03:53:50', '2024-07-22 03:53:50'),
(4, 'ゴンザレス', 'afefe@eaefa', '5e0e5ddfda4ae91bad2a92d306c574eee3f3bd33516632e75b3af4bd99388d89','user_icon.jpg', '2024-07-22 07:23:42', '2024-07-22 07:23:42');

INSERT INTO SPOTS_POSTING (SPOT_ID, USER_ID, SPOTNAME, ADDRESS, COST, REMARKS, PHOTO, CREATED_AT, UPDATED_AT) VALUES
(1, 3, '静寂の美を楽しむ、嵐山の隠れた秘境', '東山区粟田口三条坊町', 500, '青蓮院庭園は、観光客にはあまり知られていない嵐山の隠れた宝石です。庭園内に佇む茶屋は、混雑を避けたい訪問者にとって理想的な場所です。古代の美意識が息づくこの場所では、季節ごとに異なる庭園の風情を楽しむことができます。特に、紅葉の季節には庭園全体が紅葉に染まり、その美しさは言葉に尽くしがたいものがあります。青蓮院庭園でのひとときは、日常の喧騒から離れ、静寂の美を心ゆくまで堪能することができるでしょう。', 'niwa.jpg', '2024-07-22 04:17:18', '2024-07-22 04:17:18'),
(2, 3, '自然と共に過ごす、小淵沢の隠れたオアシス', '山梨県北杜市小淵沢町', 1500, '「森のテラス」は、山梨県の小淵沢に位置する自然に囲まれた隠れたカフェです。このカフェは森の中に佇む小さな建物で、広大な自然の中でゆっくりとした時間を過ごすことができます。カフェのメニューは地元の食材を使用した手作り料理や季節のお茶セットが特におすすめです。特に春と秋のシーズンには、カフェから眺める自然の美しさが最高です。訪れる人が少ないため、静かに自然を感じながらリフレッシュするには最適な場所です。', '森のテラス.jpg', '2024-07-22 04:28:44', '2024-07-22 04:28:44'),
(3, 3, '夜の隠れ家、下北沢の隠れたバー', '東京都世田谷区下北沢', 1200, '「月影」は、下北沢の繁華街から少し離れた路地裏に佇む隠れたバーです。ここでは、オリジナルのカクテルや厳選されたウイスキーを楽しむことができます。内装は落ち着いた雰囲気で、カウンター越しにバーテンダーとの会話を楽しむことができるのも魅力です。音楽も心地よく流れ、静かな夜を過ごしたいときに最適な場所です。', '5c81a6444e5f15449184b2cbf4fa5c.jpg', '2024-07-22 04:37:35', '2024-07-22 04:37:35'),
(4, 3, '絶景と美食、美瑛の隠れたカフェ', '北海道上川郡美瑛町', 1800, '「青い池テラス」は、美瑛の有名な青い池の近くにある隠れたカフェです。カフェからは青い池の美しい景色を眺めながら、地元産の食材を使ったランチを楽しむことができます。特に夏季はテラス席からの眺めが最高で、青い池の静寂な美しさを存分に感じることができます。地元の人々にも愛される秘密の名所です。', '青い湖.jpg', '2024-07-22 06:38:27', '2024-07-22 06:38:27'),
(5, 3, '歴史と美意識、北山の隠れた名庭', '京都府京都市左京区北山町', 800, '「一休庵」は、京都の北山に位置する隠れた名庭です。この庭園は古い京都の風情が漂い、広がる自然と調和した美しい庭園を楽しむことができます。特に春と秋には、庭園の樹木や池の景色が一層美しく映えます。静寂な空間で心を落ち着け、日常の喧騒を忘れることができる穴場の名所です。', '一休庵.jpg', '2024-07-22 06:54:01', '2024-07-22 06:54:01'),
(6, 3, '自然の奇跡、石垣島の隠れたパラダイス', '沖縄県石垣市', 300, '「星砂ビーチ」は、石垣島の中心部から少し離れた静かなビーチです。このビーチは世界的にも珍しい星砂が見つかることで知られており、透明度の高い海水と独特の美しい景色が訪れる人々を魅了します。ビーチには設備が整っており、シュノーケリングやビーチコーミングを楽しむことができます。観光客の少ない時間帯に訪れると、まるでプライベートビーチのような静けさを体験できます。', '星砂ビーチ.jpg', '2024-07-22 06:55:14', '2024-07-22 06:55:14'),
(7, 3, '自然と共に癒しを求めて、上高地の隠れた温泉', '長野県上高地', 1000, '「権現の湯」は、上高地の自然に囲まれた静かな温泉です。深い森の中に湧く温泉は、天然の泉質が豊かで、心身ともにリラックスできる場所です。露天風呂からは周囲の山々や清流を眺めることができ、特に早朝や秋の紅葉の時期に訪れると美しい景色を楽しむことができます。自然の恵みに癒されたい人におすすめの穴場温泉です。', '権現の湯.jpg', '2024-07-22 07:02:28', '2024-07-22 07:02:28'),
(8, 3, '自然の美と静寂、美深の隠れた湖', '北海道美深郡', 0, '「白鳥湖」は、美深の自然保護区に位置する穴場の湖です。この湖はその名の通り、四季折々に訪れる白鳥たちが営巣する場所として知られています。湖畔には自然がそのまま残り、静寂な空気が流れています。湖畔でのピクニックや湖面でのカヌー体験など、自然を満喫するアクティビティが楽しめます。観光客も少なく、自然と静寂を求める人に最適な隠れたスポットです。', '白鳥湖.jpg', '2024-07-22 07:05:45', '2024-07-22 07:05:45'),
(9, 3, '芸術と歴史、倉敷の隠れた名所', '岡山県倉敷市阿知1丁目2-1', 1200, '「大原美術館」は、倉敷の美観地区に佇む隠れた美術館です。この美術館は、歴史的な建物と庭園を活かした展示スペースが特徴で、日本や西洋の絵画や工芸品を豊富に展示しています。美術館自体が見どころであり、訪れるだけでなく、建物や庭園の風情も楽しめる場所です。美術や歴史に興味のある人におすすめの穴場スポットです。', '大原美術館.jpg', '2024-07-22 07:12:36', '2024-07-22 07:12:36'),
(10, 3, '自然と絶景、美瑛の隠れたオアシス', '北海道上川郡美瑛町', 1500, '「丘のカフェ」は、北海道の美瑛町にある絶景を楽しめる隠れたカフェです。こちらのカフェからは、美瑛の丘や牧場が広がる景色を眺めながら、手作りのスイーツやコーヒーを楽しむことができます。特に夏の夕方や冬の雪景色は格別で、地元の人々に愛される穴場のカフェです。', '丘のカフェ.jpg', '2024-07-22 07:16:08', '2024-07-22 07:16:08');


INSERT INTO DIARYS_POSTING (DIARY_ID, USER_ID, SPOT_ID, TITLE, PHOTO, TEXT, STERGOOD, GOOD, CREATED_AT, UPDATED_AT)
VALUES 
(1, 3, 1, '京都・嵐山の隠れた秘境を訪ねて', NULL, '今日は、京都・嵐山にある青蓮院庭園を訪れました。この庭園は観光客にはあまり知られていない穴場で、混雑を避けて静寂の美を楽しむことができる場所です。朝早く訪れたため、庭園全体がやわらかな朝日で照らされ、鳥のさえずりだけが聞こえる静かな時間が流れていました。

庭園内に佇む茶屋では、淹れたての抹茶と季節の和菓子をいただきながら、庭園の美しい景色を眺めることができました。特に池に映る紅葉の美しさは圧巻で、言葉では表現しきれない感動を覚えました。

青蓮院庭園でのひとときは、日常の喧騒から離れ、心の中で穏やかな波が広がっているような気持ちになりました。自然との調和が感じられるこの場所に訪れて、心が洗われた貴重な体験をしました。

次回は、他の季節にも訪れてみたいと思います。', 1, 1, '2024-07-22 06:41:10', '2024-07-22 06:41:10'),

(2, 3, 1, '古都の静寂、青蓮院庭園の隠れた美', '清廉.jpg', '青蓮院庭園は、京都嵐山に佇む隠れた名所です。この庭園は日本庭園の美しい伝統を存分に味わえる場所で、季節ごとに異なる美しい景色を楽しむことができます。特に紅葉の季節には、庭園全体が色づき、幻想的な風景が広がります。

庭園内に佇む茶屋では、淹れたての抹茶と和菓子を味わうことができます。混雑を避けた静かなひとときを過ごしたい人にとっては、理想的な場所です。古都京都の静寂を感じながら、心身ともにリフレッシュできる場所として、訪れる価値があります。', 5, 1, '2024-07-22 06:46:09', '2024-07-22 06:46:09'),

(3, 3, 4, '青い池テラスでの穏やかな午後', 'images.jpg', '今日は友人と一緒に北海道の美瑛町にある「青い池テラス」を訪れました。この場所は、青い池の近くに佇むカフェで、美しい景色を眺めながらコーヒーを楽しむことができる素敵な場所です。

午後の陽光が差し込む中、テラス席に座りながら目の前に広がる青い池の静けさに包まれました。水面に映る雲の影や周囲の緑が、まるで絵画のように美しく、心を癒してくれる時間でした。手作りのケーキとアロマの香りが漂うコーヒーは、この特別な瞬間を さらに特別なものにしてくれました。

青い池テラスは、日常の喧騒を忘れさせてくれる癒しの場所です。次回は四季折々の景色を楽しむために、また訪れたいと思いました。', 3, 0, '2024-07-22 07:23:11', '2024-07-22 07:23:11'),

(4, 4, 4, '青い池テラスの静寂な午後', 'aotera.jpg', '今日は美瑛の青い池テラスに行ってきました。この場所は、広大な景色が広がる青い池のそばに佇む小さなカフェで、静寂と美しさが満ち溢れています。

テラスに座り、目の前に広がる青い池の透明度の高い水面を眺めながら、心が落ち着きました。遠くの山々や草原が一望でき、北海道ならではの大自然に触れることができる贅沢なひとときでした。特に秋の紅葉や冬の雪景色の季節に訪れると、さらに美しい景色が広がることでしょう。

カフェでいただいたホットコーヒーは、手作りのケーキとともに楽しむことができました。静かな時間が流れる中で、日常の喧騒を忘れて、自然と調和した贅沢な時間を過ごすことができました。青い池テラスは、心を落ち着かせる穴場のスポットとして、また訪れたい場所です。', 4, 0, '2024-07-22 07:25:51', '2024-07-22 07:25:51'),

(5, 4, 5, '一休庵の静寂なひととき', 'ikkyuu.jpg', '今日は京都の北山にある一休庵を訪れました。この場所は、静かな山間に佇む隠れた名庭で、歴史と美意識が息づいています。

庭園に入ると、まず目に飛び込んできたのは、緑が鮮やかな自然の美しさでした。歩くたびに異なる景色が広がり、その中でゆったりと時間を過ごすことができました。特に紅葉の季節には、庭園全体が色づき、幻想的な風景が広がることでしょう。

一休庵内の茶屋では、淹れたての抹茶と和菓子をいただきました。手前味噌の抹茶とともに、美しい庭園の景色を眺めながらのひとときは格別でした。古都京都の静寂を感じながら、心身ともにリフレッシュできる場所として、再訪したいと感じました。', 5, 0, '2024-07-22 07:29:10', '2024-07-22 07:29:10'),

(6, 4, 8, '白鳥湖への旅', '白鳥湖への旅.jpg', '今日は友人たちと白鳥湖に行ってきました。朝早く出発して、車で約2時間ほどのドライブで到着しました。白鳥湖は静かで美しい自然が広がる場所で、私たちはこの夏の暑さを忘れるほどの涼しい風を感じながら湖畔を散策しました。

湖の水面は透き通っていて、時折風に揺れる木々や山々が水面に映り込みます。その景色はまるで絵画のようで、写真を撮るたびに自然の美しさに驚かされました。白鳥湖の周りには野生の花々が咲き誇り、彩り豊かな風景が目を楽しませてくれました。

友人たちとは昼食を持参して、湖畔のピクニックエリアで食事をしました。お互いの近況や最近の出来事について話をしながら、心地よい風と青い空を眺めていました。特に忘れられないのは、湖の中を自由に泳ぐ白鳥たちの優雅な姿でした。その美しい白い羽と静かな水面が一体となって、私たちに穏やかな時間を過ごさせてくれました。

午後には湖の近くにある小さな神社を訪れました。神社は木々に囲まれており、静寂な中に神聖な雰囲気が漂っていました。そこで心を静め、自然との調和を感じることができました。

帰り道、夕方の湖畔の風景はさらに美しく、夕日が水面に反射して幻想的な光景を作り出していました。この日の白鳥湖の旅は、心身ともにリフレッシュできる貴重な時間でした。自然の中で過ごすことの素晴らしさを改めて感じさせてくれた一日でした。

明日もまた、この感動を忘れることはできないでしょう。', 4, 0, '2024-07-22 07:32:48', '2024-07-22 07:32:48'),

(7, 4, 3, 'バーでの一夜', 'ba-.jpg', '今日は友人たちと久々にバーに行ってきました。忙しい日常の中で、たまにはリラックスして楽しむ時間も必要ですよね。私たちはお気に入りのバーに集まり、美味しいカクテルを楽しみながら、笑いと話に花を咲かせました。

バーに入ると、まず目に飛び込んできたのは洗練されたインテリアと心地よい音楽。カウンターに座り、バーテンダーが作るカクテルの技術に感心しきりでした。私はモヒートを注文し、爽やかなミントの香りとラムの味わいが口の中に広がるのを楽しみました。

友人たちとは最近の近況や仕事の話から、ちょっとしたエピソードまで、いろんな話題で盛り上がりました。バーの雰囲気がリラックスできる空間を提供してくれたおかげで、日常のストレスを忘れて心地よい時間を過ごすことができました。

バーの裏には小さなテラスがあり、そこで新鮮な空気を吸いながら夜の涼しさを感じました。街の喧騒とは違う静かな時間が流れる中で、友人たちと笑い合ったり、深い話をしたりと、何気ないひとときがとても心地よかったです。

時間が経つのもあっという間で、帰り際にはバーテンダーに感謝の言葉を伝えました。彼らのおかげで楽しい夜を過ごすことができたことに、本当に感謝しています。また近いうちに訪れて、新しいカクテルを試したり、新たな出会いがあるかもしれない楽しみを感じながら、バーでの一夜を思い出します。', 2, 0, '2024-07-22 07:35:00', '2024-07-22 07:35:00'),

(8, 4, 7, '温泉での癒しのひととき', NULL, '今日は仕事の疲れを癒すために、友人と一緒に温泉に行ってきました。温泉は私の大好きな癒しの場所で、心身ともにリフレッシュできる特別な場所です。

早朝に出発し、車で1時間ほどの距離にある温泉地に到着しました。温泉街には昔ながらの趣が残り、街並みを歩くだけでも心が和みます。私たちは早速、温泉旅館にチェックインし、部屋に荷物を置いた後は温泉に向かいました。

温泉に入ると、湯の花が浮かぶ温泉の香りが鼻をくすぐります。露天風呂からは山々の緑と青空が広がり、その美しい景色に感動しました。温泉のお湯はぬるめで、心地よい温度で全身の疲れがほぐれていく感じがしました。

友人とは温泉でゆっくりと話をしながら、近況や最近読んだ本の話題で盛り上がりました。温泉に浸かりながら、日常のストレスや疲れがどんどん溶けていく感じがしました。この静寂な時間が、私たちの絆をさらに深めるきっかけにもなりました。

昼食は旅館内の食堂で頂きました。地元の新鮮な食材を使った料理はどれも美味しく、温泉とともに楽しむ食事は格別でした。特に地元の野菜や温泉卵が絶品で、旅の良い思い出となりました。

午後はのんびりと過ごし、夕方には再び温泉に入りました。夕焼けが山々を染めていく中での温泉は、幻想的でとてもロマンチックな雰囲気でした。このような自然との調和を感じられる温泉旅行は、心身ともにリフレッシュできる大切な時間です。

帰り際、温泉旅館のスタッフに感謝の言葉を伝えながら、心地よい疲れと満足感で包まれました。今回の温泉旅行は私にとって、穏やかで贅沢な一日でした。また次の機会に訪れて、新たな温泉の魅力に出会いたいと思います', 4, 0, '2024-07-22 07:36:41', '2024-07-22 07:36:41'),
(9, 4, 6, '星砂ビーチの輝き', 'parasoru.jpg', '今日は友人たちと星砂ビーチに行ってきました。星砂ビーチはその名の通り、独特の星型の砂が広がる美しいビーチです。旅行前から楽しみにしていたこの場所で、自然の美しさに魅了される一日を過ごしました。

朝早く出発し、車で数時間のドライブを経て到着した星砂ビーチは、透明度の高い青い海と白い砂浜が広がっていました。最初に目に飛び込んできたのは、そのきらめく星砂の美しさでした。砂浜に散らばる星型の砂が太陽の光を受けて輝き、まるで宝石のようでした。

私たちはビーチの端にタオルを敷いて、日焼けをしながら海水浴を楽しみました。海はとても穏やかで、澄んだ水が身体を包み込む感覚は至福そのものでした。波の音とさわやかな風が心地よく、まるで時間が止まってしまったかのような幸せなひとときでした。

昼食は持参したお弁当をビーチで楽しみました。海を眺めながら食べる食事は格別で、自然の中でのんびりとした時間が流れていきました。友人たちと笑いながら、夏の思い出話に花を咲かせました。

午後はビーチを散策しながら、周囲の自然を堪能しました。近くに立ち並ぶ緑の木々や、遠くに広がる青い海の景色は絵画のように美しく、カメラに収めるたびにその風景の素晴らしさに感動しました。

夕方にはビーチの端で夕日を眺めました。太陽が海に沈む光景は壮大で、その美しさにしばらく見とれてしまいました。夕焼けの色彩が海と砂浜に反射し、さらに星砂の輝きが増していくのを感じました。

帰り道、星砂ビーチで過ごした一日は私にとって特別な思い出となりました。自然の美しさに触れ、友人たちと楽しい時間を共有することができて本当に幸せです。また次の機会に訪れて、星砂の輝きと夏の陽光を感じたいと思います。', 3, 0, '2024-07-22 07:38:27', '2024-07-22 07:38:27'),

(10, 4, 7, '温泉の癒し', 'kenngenn.jpg', '今日は長い間楽しみにしていた温泉旅行に行ってきました。都会の喧騒を離れて、自然の中で心身を癒すこの時間は、本当に贅沢で特別なものです。

早朝、友人たちと共に車で温泉地に向かいました。道中、青々とした山々と清らかな空気が私たちを迎えてくれました。温泉地に着いて早速、宿にチェックインしました。部屋からの眺めは最高で、山々が静かに佇む中、温泉に浸かる喜びを感じました。

温泉に入ると、まず感じたのはその温かさと湯の花の香りです。身体が温まり、緊張がほぐれていく感覚は何物にも代えがたいものでした。露天風呂からの眺めも素晴らしく、自然の美しさが温泉と一体となって、心に深い安らぎを与えてくれました。

友人たちとは温泉でのんびりと過ごしながら、日常の話や将来の夢について語り合いました。温泉は会話が弾み、心を開放する場でもありました。時折耳に届く鳥のさえずりや風の音も、この特別な瞬間をさらに豊かなものにしてくれました。

昼食は地元の食材を使った温泉旅館の料理を堪能しました。新鮮な山菜や温泉湯葉、季節の果物などが並び、その味わいはまさに絶品でした。食後のデザートとして出された温泉饅頭は特に感動的で、地元ならではの味を存分に楽しむことができました。

午後はゆっくりと散策し、温泉街の風景を楽しみました。歴史ある建物や温泉の湧出口に立ち寄りながら、この地域の文化や自然の息吹を感じました。また、温泉地の人々の温かい笑顔に触れ、地元の魅力に惹かれる素晴らしい体験でした。

夕方、夕日が沈む頃には再び温泉に浸かり、一日の疲れを癒しました。夜になると、星空が美しく輝き、温泉街の静寂が私たちを包み込みました。この静かな時間は、忙しい日常を忘れさせ、心身を癒す大切な時間となりました。

帰り道、温泉旅館のスタッフに感謝の言葉を伝えながら、この素晴らしい体験に心からの感謝を述べました。温泉の癒しと美しさに触れることができて、本当に幸せです。次回の温泉旅行が今から楽しみです。', 5, 0, '2024-07-22 07:42:57', '2024-07-22 07:42:57');